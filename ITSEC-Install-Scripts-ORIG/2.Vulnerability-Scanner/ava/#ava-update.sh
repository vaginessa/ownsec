#does not work, no idea why


GITREPO=https://github.com/SafeStack/ava.git
BRANCH=master
GITCLONEDIR=/opt/ITSEC/2.Vulnerability-Scanner/ava/SafeStack
GITCONFDIR=/opt/ITSEC/2.Vulnerability-Scanner/ava/SafeStack/.git
DSKTPFLS=/opt/ownsec/ITSEC-Install-Scripts-ORIG/2.Vulnerability-Scanner/ava
DSKTPFLSDEST=/home/$USER/.local/share/applications/2.Vulnerability-Scanner/ava
DSKTPFL=ava.desktop
APTLSTDIR=/opt/ownsec/ITSEC-Install-Scripts-ORIG/2.Vulnerability-Scanner/ava
GITSBMDLINIT () {
	git submodule init
	git submodule update --recursive
	sudo updatedb && sudo ldconfig
}

if [ ! -d $GITCONFDIR ]

then

mkdir -p $GITCLONEDIR
cd $GITCLONEDIR
git clone $GITREPO

else

echo "${bold}REPO EXISTS, skip clone...${normal}"

fi

cd $GITREPOROOT

if git checkout master &&
    git fetch origin master &&
    [ `git rev-list HEAD...origin/master --count` != 0 ] &&
    git merge origin/master
then

cd $GITREPOROOT
GITSBMDLINIT


fi